{% extends "base.html" %}

{% block title %}SmartDesk Home{% endblock %}

{% block content %}
{% include "partials/nav.html" %}
<main class="layout-page">
  <section class="surface-card" data-animate="fade">
    <div class="surface-card__header">
      <span class="brand-mark">SmartDesk</span>
      <div>
        <strong>{{ current_user.full_name or current_user.email }}</strong>
        <p class="surface-card__meta">{{ current_user.primary_role | replace('_', ' ') | title }}</p>
      </div>
    </div>
    <div class="hero">
      <h1 class="hero-title">Welcome back, {{ current_user.full_name or current_user.email.split('@')[0] }}.</h1>
      <p class="hero-subtitle">Your SmartDesk workspace gives you quick access to every tool you need to stay on top of tickets, monitor operations, and support your team.</p>
      <div class="cta-group">
        <a href="{{ role_home }}" class="button button-primary">Enter my dashboard</a>
        {% if current_user.primary_role == 'it_manager' %}
          <a href="/desk" class="button button-secondary">Open helpdesk form</a>
        {% elif current_user.primary_role == 'smartdesk_staff' %}
          <a href="/admin/overview" class="button button-secondary">Platform overview</a>
        {% else %}
          <a href="/desk" class="button button-secondary">Submit a ticket</a>
        {% endif %}
      </div>
    </div>
  </section>

  <section class="card-grid" data-animate="fade">
    <article class="surface-card" data-hover-tilt="true">
      <h2 class="surface-card__title">Recent activity</h2>
      <p>Track your latest tickets, assignments, and updates in real time. Upcoming iterations will tailor this view to your role.</p>
    </article>
    <article class="surface-card" data-hover-tilt="true">
      <h2 class="surface-card__title">Need to switch roles?</h2>
      <p>Contact your SmartDesk administrator to adjust permissions or add teammates to your workspace.</p>
    </article>
    <article class="surface-card" data-hover-tilt="true">
      <h2 class="surface-card__title">Next steps</h2>
      <p>Use the Helpdesk to file or triage issues. Admins can jump into the console for analytics and escalations.</p>
    </article>
  </section>
</main>
<footer class="footer">
  <span>&copy; {{ year }} SmartDesk Platform</span>
  <span>Questions? Reach out to SmartDesk Support.</span>
</footer>
{% endblock %}
